{% extends "base.html" %}
{% block content %}
<div class="profile-page">
    <div class="profile-header">
        <div class="profile-avatar">{{ sp.display_name[0] if sp.display_name else '?' }}</div>
        <h1>{{ sp.display_name }}</h1>
        {% if sp.bio %}
        <p class="profile-bio">{{ sp.bio }}</p>
        {% endif %}
        {% if sp.phone %}
        <p class="profile-contact"><strong>Phone:</strong> {{ sp.phone }}</p>
        {% endif %}
        {% if sp.email %}
        <p class="profile-contact"><strong>Email:</strong> {{ sp.email }}</p>
        {% endif %}
    </div>

    <div class="profile-inventory">
        <h2>My Inventory</h2>
        {% if vehicles %}
        <div class="vehicle-grid">
            {% for v in vehicles %}
            <div class="vehicle-card">
                {% if v.image_url %}
                <img src="{{ v.image_url }}" alt="{{ v.year }} {{ v.make }} {{ v.model }}" class="vehicle-img">
                {% else %}
                <div class="vehicle-img-placeholder">No Photo</div>
                {% endif %}
                <div class="vehicle-info">
                    <h3>{{ v.year }} {{ v.make }} {{ v.model }}{% if v.trim %} {{ v.trim }}{% endif %}</h3>
                    <p class="vehicle-price">${{ "{:,.0f}".format(v.price) }}</p>
                    {% if v.mileage %}
                    <p class="vehicle-detail">{{ "{:,}".format(v.mileage) }} miles</p>
                    {% endif %}
                    {% if v.exterior_color %}
                    <p class="vehicle-detail">{{ v.exterior_color }}</p>
                    {% endif %}
                    {% if v.transmission %}
                    <p class="vehicle-detail">{{ v.transmission }}</p>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p class="coming-soon">No vehicles listed yet.</p>
        {% endif %}
    </div>
</div>

<style>
.profile-page { max-width: 800px; margin: 40px auto; padding: 0 20px; }
.profile-header { background: #fff; border-radius: 12px; padding: 40px; text-align: center; box-shadow: 0 2px 16px rgba(45,29,54,0.10); margin-bottom: 30px; }
.profile-avatar { width: 80px; height: 80px; border-radius: 50%; background: #2d1d36; color: white; font-size: 36px; font-weight: 700; display: flex; justify-content: center; align-items: center; margin: 0 auto 20px; }
.profile-header h1 { color: #2d1d36; font-size: 32px; margin-bottom: 12px; }
.profile-bio { color: #555; font-size: 16px; line-height: 1.6; margin-bottom: 16px; max-width: 600px; margin-left: auto; margin-right: auto; }
.profile-contact { color: #666; font-size: 14px; margin-bottom: 6px; }
.profile-inventory { background: #fff; border-radius: 12px; padding: 40px; box-shadow: 0 2px 16px rgba(45,29,54,0.10); }
.profile-inventory h2 { color: #2d1d36; font-size: 24px; margin-bottom: 24px; }
.vehicle-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 24px; }
.vehicle-card { border: 1px solid #e0e0e0; border-radius: 10px; overflow: hidden; background: #fff; transition: box-shadow 0.2s; }
.vehicle-card:hover { box-shadow: 0 4px 20px rgba(0,0,0,0.12); }
.vehicle-img { width: 100%; height: 200px; object-fit: cover; }
.vehicle-img-placeholder { width: 100%; height: 200px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #999; font-size: 16px; }
.vehicle-info { padding: 16px; }
.vehicle-info h3 { color: #2d1d36; font-size: 18px; margin-bottom: 8px; }
.vehicle-price { color: #1a73e8; font-size: 22px; font-weight: 700; margin-bottom: 8px; }
.vehicle-detail { color: #666; font-size: 14px; margin-bottom: 4px; }
.coming-soon { color: #999; font-style: italic; text-align: center; padding: 40px 0; }
</style>
{% endblock %}
